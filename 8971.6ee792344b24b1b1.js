"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8971],{8971:function(e,a,n){n.r(a),n(3696);var t=n(1445);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},l.apply(null,arguments)}function p(e){let{components:a,...n}=e;return(0,t.yg)("wrapper",l({components:a},n),(0,t.yg)("p",null,"The ",(0,t.yg)("inlineCode",{parentName:"p"},"Compiler")," module is the main engine that creates a compilation instance\nwith all the options passed through the ",(0,t.yg)("a",{href:"/api/cli",parentName:"p"},"CLI")," or ",(0,t.yg)("a",{href:"/api/node",parentName:"p"},"Node API"),". It extends the\n",(0,t.yg)("inlineCode",{parentName:"p"},"Tapable")," class in order to register and call plugins. Most user-facing plugins\nare first registered on the ",(0,t.yg)("inlineCode",{parentName:"p"},"Compiler"),"."),(0,t.yg)("p",null,"When developing a plugin for webpack, you might want to know where each hook is called. To learn this, search for ",(0,t.yg)("inlineCode",{parentName:"p"},"hooks.<hook name>.call")," across the webpack source."),(0,t.yg)("aside",{className:"warning"},(0,t.yg)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,t.yg)("p",{parentName:"aside"},"Since webpack 5, ",(0,t.yg)("inlineCode",{parentName:"p"},"hooks")," are no longer extendable. Use a ",(0,t.yg)("inlineCode",{parentName:"p"},"WeakMap")," to add custom hooks.")),(0,t.yg)("h2",null,(0,t.yg)("span",{id:"watching",parentName:"h2"}),"Watching",(0,t.yg)("a",{href:"#watching","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"The ",(0,t.yg)("inlineCode",{parentName:"p"},"Compiler")," supports ",(0,t.yg)("a",{href:"/api/node/#watching",parentName:"p"},"watching")," which monitors the file\nsystem and recompiles as files change. When in watch mode, the compiler will\nemit the additional events such as ",(0,t.yg)("inlineCode",{parentName:"p"},"watchRun"),", ",(0,t.yg)("inlineCode",{parentName:"p"},"watchClose"),", and ",(0,t.yg)("inlineCode",{parentName:"p"},"invalid"),".\nThis is typically used in ",(0,t.yg)("a",{href:"/guides/development",parentName:"p"},"development"),", usually under\nthe hood of tools like ",(0,t.yg)("inlineCode",{parentName:"p"},"webpack-dev-server"),", so that the developer doesn't\nneed to re-compile manually every time. Watch mode can also be entered via the\n",(0,t.yg)("a",{href:"/api/cli/#watch-options",parentName:"p"},"CLI"),"."),(0,t.yg)("h2",null,(0,t.yg)("span",{id:"hooks",parentName:"h2"}),"Hooks",(0,t.yg)("a",{href:"#hooks","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"The following lifecycle hooks are exposed by the ",(0,t.yg)("inlineCode",{parentName:"p"},"compiler")," and can be accessed\nas such:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"compiler",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"hooks",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"someHook",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token function",parentName:"code"},"tap"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token string",parentName:"code"},"'MyPlugin'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token parameter",parentName:"code"},"params"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"/* ... */"),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"Depending on the hook type, ",(0,t.yg)("inlineCode",{parentName:"p"},"tapAsync")," and ",(0,t.yg)("inlineCode",{parentName:"p"},"tapPromise")," may also be available."),(0,t.yg)("p",null,"For the description of hook types, see ",(0,t.yg)("a",{href:"https://github.com/webpack/tapable#tapable",parentName:"p"},"the Tapable docs"),"."),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"environment",parentName:"h3"}),"environment",(0,t.yg)("a",{href:"#environment","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Called while preparing the compiler environment, right after initializing the plugins in the configuration file."),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"afterenvironment",parentName:"h3"}),"afterEnvironment",(0,t.yg)("a",{href:"#afterenvironment","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Called right after the ",(0,t.yg)("inlineCode",{parentName:"p"},"environment")," hook, when the compiler environment setup is complete."),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"entryoption",parentName:"h3"}),"entryOption",(0,t.yg)("a",{href:"#entryoption","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncBailHook")),(0,t.yg)("p",null,"Called after the ",(0,t.yg)("a",{href:"/configuration/entry-context/#entry",parentName:"p"},(0,t.yg)("inlineCode",{parentName:"a"},"entry")," configuration")," from webpack options has been processed."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("a",{href:"/configuration/entry-context/#context",parentName:"li"},(0,t.yg)("inlineCode",{parentName:"a"},"context")),", ",(0,t.yg)("a",{href:"/configuration/entry-context/#entry",parentName:"li"},(0,t.yg)("inlineCode",{parentName:"a"},"entry")))),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"compiler",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"hooks",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"entryOption",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token function",parentName:"code"},"tap"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token string",parentName:"code"},"'MyPlugin'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token parameter",parentName:"code"},"context",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," entry"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"/* ... */"),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"afterplugins",parentName:"h3"}),"afterPlugins",(0,t.yg)("a",{href:"#afterplugins","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Called after setting up initial set of internal plugins."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compiler"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"afterresolvers",parentName:"h3"}),"afterResolvers",(0,t.yg)("a",{href:"#afterresolvers","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Triggered after resolver setup is complete."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compiler"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"initialize",parentName:"h3"}),"initialize",(0,t.yg)("a",{href:"#initialize","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Called when a compiler object is initialized."),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"beforerun",parentName:"h3"}),"beforeRun",(0,t.yg)("a",{href:"#beforerun","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesHook")),(0,t.yg)("p",null,"Adds a hook right before running the compiler."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compiler"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"run",parentName:"h3"}),"run",(0,t.yg)("a",{href:"#run","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesHook")),(0,t.yg)("p",null,"Hook into the compiler before it begins reading ",(0,t.yg)("a",{href:"/configuration/other-options/#recordspath",parentName:"p"},(0,t.yg)("inlineCode",{parentName:"a"},"records")),"."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compiler"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"watchrun",parentName:"h3"}),"watchRun",(0,t.yg)("a",{href:"#watchrun","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesHook")),(0,t.yg)("p",null,"Executes a plugin during watch mode after a new compilation is triggered but before the compilation is actually started."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compiler"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"normalmodulefactory",parentName:"h3"}),"normalModuleFactory",(0,t.yg)("a",{href:"#normalmodulefactory","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Called after a ",(0,t.yg)("a",{href:"/api/normalmodulefactory-hooks",parentName:"p"},"NormalModuleFactory")," is created."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"normalModuleFactory"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"contextmodulefactory",parentName:"h3"}),"contextModuleFactory",(0,t.yg)("a",{href:"#contextmodulefactory","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Runs a plugin after a ",(0,t.yg)("a",{href:"/api/contextmodulefactory-hooks",parentName:"p"},"ContextModuleFactory")," is created."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"contextModuleFactory"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"beforecompile",parentName:"h3"}),"beforeCompile",(0,t.yg)("a",{href:"#beforecompile","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesHook")),(0,t.yg)("p",null,"Executes a plugin after compilation parameters are created."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compilationParams"))),(0,t.yg)("p",null,"The ",(0,t.yg)("inlineCode",{parentName:"p"},"compilationParams")," variable is initialized as follows:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"compilationParams ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  normalModuleFactory",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  contextModuleFactory",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"This hook can be used to add/modify the compilation parameters:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"compiler",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"hooks",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"beforeCompile",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token function",parentName:"code"},"tapAsync"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token string",parentName:"code"},"'MyPlugin'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token parameter",parentName:"code"},"params",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," callback"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  params",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),(0,t.yg)("span",{className:"token string",parentName:"code"},"'MyPlugin - data'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'important stuff my plugin will use later'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,t.yg)("span",{className:"token function",parentName:"code"},"callback"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"compile",parentName:"h3"}),"compile",(0,t.yg)("a",{href:"#compile","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Called right after ",(0,t.yg)("inlineCode",{parentName:"p"},"beforeCompile"),", before a new compilation is created. This hook is ",(0,t.yg)("em",{parentName:"p"},"not")," copied to child compilers."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compilationParams"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"thiscompilation",parentName:"h3"}),"thisCompilation",(0,t.yg)("a",{href:"#thiscompilation","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Executed while initializing the compilation, right before emitting the ",(0,t.yg)("inlineCode",{parentName:"p"},"compilation")," event. This hook is ",(0,t.yg)("em",{parentName:"p"},"not")," copied to child compilers."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compilation"),", ",(0,t.yg)("inlineCode",{parentName:"li"},"compilationParams"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"compilation",parentName:"h3"}),"compilation",(0,t.yg)("a",{href:"#compilation","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Runs a plugin after a compilation has been created."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compilation"),", ",(0,t.yg)("inlineCode",{parentName:"li"},"compilationParams"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"make",parentName:"h3"}),"make",(0,t.yg)("a",{href:"#make","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncParallelHook")),(0,t.yg)("p",null,"Executed before finishing the compilation. This hook is ",(0,t.yg)("em",{parentName:"p"},"not")," copied to child compilers."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compilation"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"aftercompile",parentName:"h3"}),"afterCompile",(0,t.yg)("a",{href:"#aftercompile","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesHook")),(0,t.yg)("p",null,"Called after finishing and sealing the compilation."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compilation"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"shouldemit",parentName:"h3"}),"shouldEmit",(0,t.yg)("a",{href:"#shouldemit","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncBailHook")),(0,t.yg)("p",null,"Called before emitting assets. Should return a boolean telling whether to emit."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compilation"))),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"compiler",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"hooks",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"shouldEmit",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token function",parentName:"code"},"tap"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token string",parentName:"code"},"'MyPlugin'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token parameter",parentName:"code"},"compilation"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"// return true to emit the output, otherwise false"),"\n  ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,t.yg)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"emit",parentName:"h3"}),"emit",(0,t.yg)("a",{href:"#emit","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesHook")),(0,t.yg)("p",null,"Executed right before emitting assets to output dir. This hook is ",(0,t.yg)("em",{parentName:"p"},"not")," copied to child compilers."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compilation"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"afteremit",parentName:"h3"}),"afterEmit",(0,t.yg)("a",{href:"#afteremit","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesHook")),(0,t.yg)("p",null,"Called after emitting assets to output directory. This hook is ",(0,t.yg)("em",{parentName:"p"},"not")," copied to child compilers."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"compilation"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"assetemitted",parentName:"h3"}),"assetEmitted",(0,t.yg)("a",{href:"#assetemitted","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesHook")),(0,t.yg)("p",null,"Executed when an asset has been emitted. Provides access to information about the emitted asset, such as its output path and byte content."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"file"),", ",(0,t.yg)("inlineCode",{parentName:"li"},"info"))),(0,t.yg)("p",null,"For example, you may access the asset's content buffer via ",(0,t.yg)("inlineCode",{parentName:"p"},"info.content"),":"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"compiler",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"hooks",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"assetEmitted",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token function",parentName:"code"},"tap"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),"\n  ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'MyPlugin'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token parameter",parentName:"code"},"file",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},"{")," content",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," source",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," outputPath",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," compilation",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," targetPath ",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},"}")),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    console",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token function",parentName:"code"},"log"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";")," ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"// <Buffer 66 6f 6f 62 61 72>"),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"done",parentName:"h3"}),"done",(0,t.yg)("a",{href:"#done","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesHook")),(0,t.yg)("p",null,"Executed when the compilation has completed. This hook is ",(0,t.yg)("em",{parentName:"p"},"not")," copied to child compilers."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"stats"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"additionalpass",parentName:"h3"}),"additionalPass",(0,t.yg)("a",{href:"#additionalpass","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesHook")),(0,t.yg)("p",null,"This hook allows you to do a one more additional pass of the build."),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"failed",parentName:"h3"}),"failed",(0,t.yg)("a",{href:"#failed","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Called if the compilation fails."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"error"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"invalid",parentName:"h3"}),"invalid",(0,t.yg)("a",{href:"#invalid","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Executed when a watching compilation has been invalidated. This hook is ",(0,t.yg)("em",{parentName:"p"},"not")," copied to child compilers."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"fileName"),", ",(0,t.yg)("inlineCode",{parentName:"li"},"changeTime"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"watchclose",parentName:"h3"}),"watchClose",(0,t.yg)("a",{href:"#watchclose","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncHook")),(0,t.yg)("p",null,"Called when a watching compilation has stopped."),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"shutdown",parentName:"h3"}),"shutdown",(0,t.yg)("a",{href:"#shutdown","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesHook")),(0,t.yg)("p",null,"Called when the compiler is closing."),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"infrastructurelog",parentName:"h3"}),"infrastructureLog",(0,t.yg)("a",{href:"#infrastructurelog","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncBailHook")),(0,t.yg)("p",null,"Allows to use infrastructure logging when enabled in the configuration via ",(0,t.yg)("a",{href:"/configuration/infrastructureLogging/",parentName:"p"},(0,t.yg)("inlineCode",{parentName:"a"},"infrastructureLogging")," option"),"."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"name"),", ",(0,t.yg)("inlineCode",{parentName:"li"},"type"),", ",(0,t.yg)("inlineCode",{parentName:"li"},"args"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"log",parentName:"h3"}),"log",(0,t.yg)("a",{href:"#log","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncBailHook")),(0,t.yg)("p",null,"Allows to log into ",(0,t.yg)("a",{href:"/configuration/stats/",parentName:"p"},"stats")," when enabled, see ",(0,t.yg)("a",{href:"/configuration/infrastructureLogging/",parentName:"p"},(0,t.yg)("inlineCode",{parentName:"a"},"stats.logging"),", ",(0,t.yg)("inlineCode",{parentName:"a"},"stats.loggingDebug")," and ",(0,t.yg)("inlineCode",{parentName:"a"},"stats.loggingTrace")," options"),"."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"origin"),", ",(0,t.yg)("inlineCode",{parentName:"li"},"logEntry"))))}p.isMDXComponent=!0,a.default=p}}]);