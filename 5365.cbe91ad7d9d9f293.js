"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5365],{5365:function(e,a,n){n.r(a),n(3696);var l=n(1445);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},o.apply(this,arguments)}function i(e){let{components:a,...n}=e;return(0,l.yg)("wrapper",o({components:a},n),(0,l.yg)("p",null,"The following Node.js options configure whether to polyfill or mock certain ",(0,l.yg)("a",{href:"https://nodejs.org/docs/latest/api/globals.html",parentName:"p"},"Node.js globals"),"."),(0,l.yg)("p",null,"This feature is provided by webpack's internal ",(0,l.yg)("a",{href:"https://github.com/webpack/webpack/blob/main/lib/NodeStuffPlugin.js",parentName:"p"},(0,l.yg)("inlineCode",{parentName:"a"},"NodeStuffPlugin"))," plugin."),(0,l.yg)("aside",{className:"warning"},(0,l.yg)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,l.yg)("p",{parentName:"aside"},"As of webpack 5, You can configure only ",(0,l.yg)("inlineCode",{parentName:"p"},"global"),", ",(0,l.yg)("inlineCode",{parentName:"p"},"__filename")," or ",(0,l.yg)("inlineCode",{parentName:"p"},"__dirname")," under ",(0,l.yg)("inlineCode",{parentName:"p"},"node")," option. If you're looking for how to polyfill ",(0,l.yg)("inlineCode",{parentName:"p"},"fs")," alike in Node.js under webpack 5, please check ",(0,l.yg)("a",{href:"/configuration/resolve/#resolvefallback",parentName:"p"},"resolve.fallback")," for help.")),(0,l.yg)("h2",null,(0,l.yg)("span",{id:"node",parentName:"h2"}),"node",(0,l.yg)("a",{href:"#node","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,l.yg)("span",{className:"header-link",parentName:"a"}))),(0,l.yg)("p",null,(0,l.yg)("inlineCode",{parentName:"p"},"boolean: false")," ",(0,l.yg)("inlineCode",{parentName:"p"},"object")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,l.yg)("pre",null,(0,l.yg)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,l.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,l.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,l.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,l.yg)("span",{className:"token comment",parentName:"code"},"//..."),"\n  node",(0,l.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,l.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    global",(0,l.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,l.yg)("span",{className:"token boolean",parentName:"code"},"false"),(0,l.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    __filename",(0,l.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,l.yg)("span",{className:"token boolean",parentName:"code"},"false"),(0,l.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    __dirname",(0,l.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,l.yg)("span",{className:"token boolean",parentName:"code"},"false"),(0,l.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,l.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,l.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,l.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,l.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,l.yg)("p",null,"Since webpack 3.0.0, the ",(0,l.yg)("inlineCode",{parentName:"p"},"node")," option may be set to ",(0,l.yg)("inlineCode",{parentName:"p"},"false")," to completely turn off the ",(0,l.yg)("inlineCode",{parentName:"p"},"NodeStuffPlugin")," plugin."),(0,l.yg)("h2",null,(0,l.yg)("span",{id:"nodeglobal",parentName:"h2"}),"node.global",(0,l.yg)("a",{href:"#nodeglobal","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,l.yg)("span",{className:"header-link",parentName:"a"}))),(0,l.yg)("p",null,(0,l.yg)("inlineCode",{parentName:"p"},"boolean")," ",(0,l.yg)("inlineCode",{parentName:"p"},"'warn'")),(0,l.yg)("aside",{className:"tip"},(0,l.yg)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,l.yg)("p",{parentName:"aside"},"If you are using a module which needs global variables in it, use ",(0,l.yg)("inlineCode",{parentName:"p"},"ProvidePlugin")," instead of ",(0,l.yg)("inlineCode",{parentName:"p"},"global"),".")),(0,l.yg)("p",null,"See ",(0,l.yg)("a",{href:"https://nodejs.org/api/globals.html#globals_global",parentName:"p"},"the Node.js documentation")," for the exact behavior of this object."),(0,l.yg)("p",null,"Options:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"true"),": Provide a polyfill."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"false"),": Provide nothing. Code that expects this object may crash with a ",(0,l.yg)("inlineCode",{parentName:"li"},"ReferenceError"),"."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"'warn'"),": Show a warning when using ",(0,l.yg)("inlineCode",{parentName:"li"},"global"),".")),(0,l.yg)("h2",null,(0,l.yg)("span",{id:"node__filename",parentName:"h2"}),"node.__filename",(0,l.yg)("a",{href:"#node__filename","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,l.yg)("span",{className:"header-link",parentName:"a"}))),(0,l.yg)("p",null,(0,l.yg)("inlineCode",{parentName:"p"},"boolean")," ",(0,l.yg)("inlineCode",{parentName:"p"},"'mock' | 'warn-mock' | 'node-module' | 'eval-only'")),(0,l.yg)("p",null,"Options:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"true"),": The filename of the ",(0,l.yg)("strong",{parentName:"li"},"input")," file relative to the ",(0,l.yg)("a",{href:"/configuration/entry-context/#context",parentName:"li"},(0,l.yg)("inlineCode",{parentName:"a"},"context")," option"),"."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"false"),": Webpack won't touch your ",(0,l.yg)("inlineCode",{parentName:"li"},"__filename")," code, which means you have the regular Node.js ",(0,l.yg)("inlineCode",{parentName:"li"},"__filename")," behavior. The filename of the ",(0,l.yg)("strong",{parentName:"li"},"output")," file when run in a Node.js environment."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"'mock'"),": The fixed value ",(0,l.yg)("inlineCode",{parentName:"li"},"'/index.js'"),"."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"'warn-mock'"),": Use the fixed value of ",(0,l.yg)("inlineCode",{parentName:"li"},"'/index.js'")," but show a warning."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"'node-module'"),": Replace ",(0,l.yg)("inlineCode",{parentName:"li"},"__filename")," in CommonJS modules to ",(0,l.yg)("inlineCode",{parentName:"li"},"fileURLToPath(import.meta.url)")," when ",(0,l.yg)("inlineCode",{parentName:"li"},"output.module")," is enabled."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"'eval-only'"))),(0,l.yg)("h2",null,(0,l.yg)("span",{id:"node__dirname",parentName:"h2"}),"node.__dirname",(0,l.yg)("a",{href:"#node__dirname","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,l.yg)("span",{className:"header-link",parentName:"a"}))),(0,l.yg)("p",null,(0,l.yg)("inlineCode",{parentName:"p"},"boolean")," ",(0,l.yg)("inlineCode",{parentName:"p"},"'mock' | 'warn-mock' | 'node-module' | 'eval-only'")),(0,l.yg)("p",null,"Options:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"true"),": The dirname of the ",(0,l.yg)("strong",{parentName:"li"},"input")," file relative to the ",(0,l.yg)("a",{href:"/configuration/entry-context/#context",parentName:"li"},(0,l.yg)("inlineCode",{parentName:"a"},"context")," option"),"."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"false"),": Webpack won't touch your ",(0,l.yg)("inlineCode",{parentName:"li"},"__dirname")," code, which means you have the regular Node.js ",(0,l.yg)("inlineCode",{parentName:"li"},"__dirname")," behavior. The dirname of the ",(0,l.yg)("strong",{parentName:"li"},"output")," file when run in a Node.js environment."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"'mock'"),": The fixed value ",(0,l.yg)("inlineCode",{parentName:"li"},"'/'"),"."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"'warn-mock'"),": Use the fixed value of ",(0,l.yg)("inlineCode",{parentName:"li"},"'/'")," but show a warning."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"'node-module'"),": Replace ",(0,l.yg)("inlineCode",{parentName:"li"},"__dirname")," in CommonJS modules to ",(0,l.yg)("inlineCode",{parentName:"li"},'fileURLToPath(import.meta.url + "/..")')," when ",(0,l.yg)("inlineCode",{parentName:"li"},"output.module")," is enabled."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"'eval-only'"))))}i.isMDXComponent=!0,a.default=i}}]);