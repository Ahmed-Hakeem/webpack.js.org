"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7057],{7057:function(e,a,n){n.r(a),n(3696);var t=n(1445);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},l.apply(this,arguments)}function r(e){let{components:a,...n}=e;return(0,t.yg)("wrapper",l({components:a},n),(0,t.yg)("p",null,"The ",(0,t.yg)("inlineCode",{parentName:"p"},"ContextModuleFactory")," module is used by the ",(0,t.yg)("inlineCode",{parentName:"p"},"Compiler")," to generate dependencies from webpack specific ",(0,t.yg)("a",{href:"/api/module-methods/#requirecontext",parentName:"p"},"require.context")," API. It resolves the requested directory, generates requests for each file and filters against passed regExp. Matching dependencies then passes through ",(0,t.yg)("a",{href:"/api/normalmodulefactory-hooks",parentName:"p"},"NormalModuleFactory"),"."),(0,t.yg)("p",null,"The ",(0,t.yg)("inlineCode",{parentName:"p"},"ContextModuleFactory")," class extends ",(0,t.yg)("inlineCode",{parentName:"p"},"Tapable")," and provides the following\nlifecycle hooks. They can be tapped the same way as compiler hooks:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"ContextModuleFactory",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"hooks",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"someHook",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token function",parentName:"code"},"tap"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token comment",parentName:"code"},"/* ... */"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"As with the ",(0,t.yg)("inlineCode",{parentName:"p"},"compiler"),", ",(0,t.yg)("inlineCode",{parentName:"p"},"tapAsync")," and ",(0,t.yg)("inlineCode",{parentName:"p"},"tapPromise")," may also be available\ndepending on the type of hook."),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"beforeresolve",parentName:"h3"}),"beforeResolve",(0,t.yg)("a",{href:"#beforeresolve","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesWaterfallHook")),(0,t.yg)("p",null,"Called before resolving the requested directory. The request can be ignored by returning ",(0,t.yg)("inlineCode",{parentName:"p"},"false"),"."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"data"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"afterresolve",parentName:"h3"}),"afterResolve",(0,t.yg)("a",{href:"#afterresolve","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesWaterfallHook")),(0,t.yg)("p",null,"Called after the requested directory resolved."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"data"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"contextmodulefiles",parentName:"h3"}),"contextModuleFiles",(0,t.yg)("a",{href:"#contextmodulefiles","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"SyncWaterfallHook")),(0,t.yg)("p",null,"Called after directory contents are read. On recursive mode, calls for each sub-directory as well. Callback parameter is an array of all file and folder names in each directory."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"fileNames"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"alternativerequests",parentName:"h3"}),"alternativeRequests",(0,t.yg)("a",{href:"#alternativerequests","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AsyncSeriesWaterfallHook")),(0,t.yg)("p",null,"Called for each file after the request is created but before filtering against regExp."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Callback Parameters: ",(0,t.yg)("inlineCode",{parentName:"li"},"request")," ",(0,t.yg)("inlineCode",{parentName:"li"},"options"))))}r.isMDXComponent=!0,a.default=r}}]);